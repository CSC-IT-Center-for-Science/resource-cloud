---
data:
  #############################################################################
  ### Default system setup
  # admin
  - !User
    id: u-1
    eppn: admin@example.org
    password: admin
    is_admin: True

  # worker
  - !User
    id: u-2
    eppn: worker@pebbles
    password: worker
    is_admin: True

  # default workspace
  - !Workspace
    id: ws-0
    name: System.default

  # associate admin with default workspace
  - !WorkspaceUserAssociation
    workspace_id: ws-0
    user_id: u-1
    owner: True

  # example Jupyter template + environment in public workspace
  - !EnvironmentTemplate
    id: et-1
    name: Example
    description: Jupyter in local k8s
    environment_type: jupyter
    cluster: local_kubernetes
    is_enabled: True
    allowed_attrs:
      - maximum_lifetime
    base_config:
      args: jupyter notebook --NotebookApp.token='' --NotebookApp.base_url='/notebooks/{instance_id}'
      cost_multiplier: 0
      environment_vars: ''
      image: jupyter/minimal-notebook
      labels:
        - data analytics
        - python
        - jupyter
      maximum_lifetime: 3600
      memory_limit: 512M
      port: 8888
      show_password: true
      volume_mount_path: /data

  - !Environment
    id: e-1
    name: Jupyter minimal notebook
    description: Standard minimal Jupyter notebook
    template_id: et-1
    workspace_id: ws-0
    labels:
      - data analytics
      - python
      - jupyter
    maximum_lifetime: 3600
    is_enabled: True
    config:
      download_method: http-get
      download_url: https://www.csc.fi/index.html

  #############################################################################
  ### Normal user with no extra workspace associations
  - !User
    id: u-user-1
    eppn: user-1@example.org
    password: user-1

  - !WorkspaceUserAssociation
    workspace_id: ws-0
    user_id: u-user-1

  #############################################################################
  ### User owner-1 with one Workspace

  - !User
    id: u-owner-1
    eppn: owner-1@example.org
    password: owner-1
    workspace_quota: 2

  - !WorkspaceUserAssociation
    workspace_id: ws-0
    user_id: u-owner-1

  - !Workspace
    id: ws-1
    name: Workspace 1

  - !WorkspaceUserAssociation
    workspace_id: ws-1
    user_id: u-owner-1
    owner: True
    manager: True


  #############################################################################
  ### User owner-2 with no Workspaces, just quota

  - !User
    id: u-owner-2
    eppn: owner-2@example.org
    password: owner-2
    workspace_quota: 2
